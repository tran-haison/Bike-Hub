<!-- PAGE: Bike Detail -->
<!-- FILE: bike.ejs -->

<%- include('header'); -%>

    <!-- Navbar -->
    <%- include('navbar'); -%>

        <main class="content">
            <section class="container px-5 mt-5">
                <!-- Breadcrumbs -->
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item small"><a href="/" class="text-decoration-none text-muted">Home</a>
                        </li>
                        <li class="breadcrumb-item small"><a href="/bikes"
                                class="text-decoration-none text-muted">Bikes</a>
                        </li>
                        <li class="breadcrumb-item small text-black" aria-current="page" id="product-name-breadcrumb">
                            <%= bike.BIKE_NAME %>
                        </li>
                    </ol>
                </nav>

                <!-- Bike Detail -->
                <div class="row g-4 mb-5">
                    <div class="col-lg-7 col-12">
                        <div class="product-gallery">
                            <!-- Main image -->
                            <img id="product-image" src="<%= bike.BIKE_IMAGE %>" class="img-fluid rounded" alt="">
                            <!-- Thumbnail images -->
                            <div class="mt-0 d-flex justify-content-center">
                                <img src="<%= bike.BIKE_IMAGE %>" class="img-thumbnail mx-2" alt="Thumbnail 1"
                                    style="width: 80px;" id="product-thumbnail-1">
                                <img src="<%= bike.BIKE_IMAGE %>" class="img-thumbnail mx-2" alt="Thumbnail 2"
                                    style="width: 80px;" id="product-thumbnail-2">
                                <img src="<%= bike.BIKE_IMAGE %>" class="img-thumbnail mx-2" alt="Thumbnail 3"
                                    style="width: 80px;" id="product-thumbnail-3">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5 col-12">
                        <div style="height: 40px;"></div>
                        <!-- Product Details -->
                        <div class="product-details text-black">
                            <!-- Brand -->
                            <p id="product-brand" class="small text-secondary mb-1">
                                <%= bike.BIKE_BRAND %>
                            </p>

                            <!-- Name -->
                            <h2 id="product-name" class="text-black fw-bold mb-0">
                                <%= bike.BIKE_NAME %>
                            </h2>

                            <!-- Rating -->
                            <div class="rating my-2">
                                <% const fullStars=Math.floor(bike.BIKE_RATING); const hasHalfStar=bike.BIKE_RATING % 1
                                    !==0; const emptyStars=5 - fullStars - (hasHalfStar ? 1 : 0); %>
                                    <!-- Full Stars -->
                                    <% for(let i=0; i < fullStars; i++) { %>
                                        <i class="fas fa-star" style="color: gold;"></i>
                                        <% } %>
                                            <!-- Half Star -->
                                            <% if(hasHalfStar) { %>
                                                <i class="fas fa-star-half-alt" style="color: gold;"></i>
                                                <% } %>
                                                    <!-- Empty Stars -->
                                                    <% for(let i=0; i < emptyStars; i++) { %>
                                                        <i class="far fa-star" style="color: gold;"></i>
                                                        <% } %>
                            </div>

                            <!-- Category -->
                            <div class="d-inline-flex px-3 py-1 rounded-5 border my-2">
                                <p id="product-category" class="small m-0 text-secondary">
                                    <%= bike.BIKE_TYPE %>
                                </p>
                            </div>

                            <!-- Price -->
                            <h3 id="product-price" class="text-black fw-bold my-2">
                                $<%= bike.BIKE_PRICE %>
                            </h3>

                            <!-- Size & Quantity -->
                            <div class="row mb-1 mt-3">
                                <!-- Size -->
                                <div class="col-6">
                                    <p class="small text-muted mb-1">Size:</p>
                                    <select id="product-size" name="product-size" class="form-select rounded-2"
                                        style="height: 45px;">
                                        <option value="size-small">Small</option>
                                        <option value="size-medium">Medium</option>
                                        <option value="size-large">Large</option>
                                    </select>
                                </div>

                                <!-- Quantity -->
                                <div class="col-6">
                                    <p class="small text-muted mb-1">Quantity:</p>
                                    <div class="d-flex align-items-center border border-muted rounded-2"
                                        style="height: 45px;">
                                        <!-- Decrease Button -->
                                        <button class="btn me-2" type="button" id="decrease-quantity"
                                            onclick="decreaseQuantity()">
                                            <i class="fas fa-minus"></i>
                                        </button>

                                        <!-- Quantity Display -->
                                        <input type="text" id="product-quantity"
                                            class="form-control text-center flex-grow-1 border-0 p-0" value="1"
                                            readonly>

                                        <!-- Increase Button -->
                                        <button class="btn ms-2" type="button" id="increase-quantity"
                                            onclick="increaseQuantity()">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Add to Cart Button -->
                            <div class="d-grid gap-2 my-4">
                                <button type="button"
                                    class="d-flex align-items-center justify-content-center btn btn-dark rounded-2 py-3">
                                    <i class="fas fa-shopping-cart me-3"></i>
                                    <p class="small mb-0 fw-light py-0">ADD TO CART</p>
                                </button>
                            </div>

                            <!-- Description -->
                            <p class="my-3">
                                <strong>Description:</strong>
                                Lorem ipsum dolor sit amet, consectetur adipiscing
                                elit. Nulla blandit neque quis magna aliquet, in suscipit metus pretium.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Specifications -->
                <div class="mb-5">
                    <h2 class="text-dark fw-bold mb-3">Specifications</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover table-bordered">
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Feature</th>
                                    <th scope="col">Details</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Color</td>
                                    <td>Black</td>
                                </tr>
                                <tr>
                                    <td>Weight</td>
                                    <td>10kg</td>
                                </tr>
                                <tr>
                                    <td>Height</td>
                                    <td>130mm</td>
                                </tr>
                                <tr>
                                    <td>Length</td>
                                    <td>200mm</td>
                                </tr>
                                <tr>
                                    <td>Frame Material</td>
                                    <td>Aluminum Alloy</td>
                                </tr>
                                <tr>
                                    <td>Brake System</td>
                                    <td>Hydraulic Disc</td>
                                </tr>
                                <tr>
                                    <td>Wheel Size</td>
                                    <td>29 inches</td>
                                </tr>
                                <tr>
                                    <td>Suspension</td>
                                    <td>Front Suspension</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </main>

        <%- include('footer'); -%>